{"version":3,"sources":["Loading.svg","components/MainLayout.js","components/bigTimeLayout.js","App.js","utils/CONST_events.js","index.js"],"names":["module","exports","MainLayout","className","style","this","props","flash","backgroundColor","date","Timer","timeIsUp","color","Capture","Component","bigTimeLayout","App","state","timer","minutes","seconds","capture","hours","connected","setInterval","dayjs","locale","format","setState","toUpperCase","split","socket","io","transports","on","getDate","data","duration","generateTimer","generateCapture","display","placeItems","alt","src","loader","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61045216.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Loading.9117d7e1.svg\";","import React, { Component } from \"react\";\n\nexport class MainLayout extends Component {\n  render() {\n    return (\n      <div\n        className=\"root\"\n        style={\n          this.props.flash\n            ? { backgroundColor: \"red\" }\n            : { backgroundColor: \"black\" }\n        }\n      >\n        <div className=\"date\">\n          <h1>\n            <strong>{this.props.date[3]}</strong>\n          </h1>\n          <h1>{`${this.props.date[0]}, ${this.props.date[1]} ${this.props.date[2]}`}</h1>\n        </div>\n        <div className=\"lyrics\"></div>\n        <div className=\"timersWrapper\">\n          <div className=\"timer\">\n            <h2>Осталось времени: </h2>\n            {this.props.Timer}\n          </div>\n          <div\n            className=\"capture\"\n            style={this.props.timeIsUp ? { color: \"red\" } : {}}\n          >\n            <h2>Служение длится: </h2>\n            {this.props.Capture}\n          </div>\n          <div></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MainLayout;\n","import React, { Component } from \"react\";\n\nexport class bigTimeLayout extends Component {\n  render() {\n    return (\n      <div\n        className=\"root\"\n        style={\n          this.props.flash\n            ? { backgroundColor: \"red\" }\n            : { backgroundColor: \"black\" }\n        }\n      >\n        <div className=\"date\">\n          <h1>\n            <strong>{this.props.date[3]}</strong>\n          </h1>\n          <h1>{`${this.props.date[0]}, ${this.props.date[1]} ${this.props.date[2]}`}</h1>\n        </div>\n        <div className=\"lyrics\">\n          <div className=\"timerBig\">\n            <h2>Осталось времени: </h2>\n            {this.props.Timer}\n          </div>\n        </div>\n        <div>\n          <div\n            className=\"capture\"\n            style={this.props.timeIsUp ? { color: \"red\" } : {}}\n          >\n            <h2>Служение длится: </h2>\n            {this.props.Capture}\n          </div>\n          <div></div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default bigTimeLayout;\n","// React imports\nimport React, { Component } from \"react\";\nimport Fade from \"react-reveal/Fade\";\n// DayJS imports\nimport dayjs from \"dayjs\";\nimport \"dayjs/locale/uk\";\n// Socket imports\nimport io from \"socket.io-client\";\nimport {\n  SUCCESS,\n  TIMER_DATA,\n  CAPTURE_DATA,\n  LAYOUT,\n} from \"./utils/CONST_events\";\n// Assets imposrt\nimport loader from \"./Loading.svg\";\nimport \"./App.css\";\n// Layouts imports\nimport MainLayout from \"./components/MainLayout\";\nimport BigTimeLayout from \"./components/bigTimeLayout\";\n\nclass App extends Component {\n  state = {\n    date: \"\",\n    timer: {\n      minutes: \"00\",\n      seconds: \"00\",\n    },\n    capture: {\n      hours: \"00\",\n      minutes: \"00\",\n    },\n    flash: false,\n    connected: false,\n    timeIsUp: false,\n    bigTimeLayout: true,\n  };\n\n  // Updates Date every 5s\n  getDate() {\n    // 5s\n    setInterval(() => {\n      //Format date\n      const date = dayjs().locale(\"uk\").format(\"dddd D MMM HH:mm\");\n      this.setState({ date: date.toUpperCase().split(\" \") });\n    }, 5000);\n  }\n\n  // As first date update will be after 5s, to avoid null this cycle sets current date before mount\n  static getDerivedStateFromProps(props, state) {\n    const date = dayjs().locale(\"uk\").format(\"dddd D MMM HH:mm\");\n    return {\n      ...state,\n      date: date.split(\" \"),\n    };\n  }\n\n  // Socket connection\n  componentDidMount() {\n    if (!this.state.connected) {\n      this.socket = io(\"https://fierce-sierra-99883.herokuapp.com/timer\", {\n        transports: [\"websocket\"],\n      });\n      // Socket responded success\n      this.socket.on(SUCCESS, () => {\n        this.getDate();\n        this.setState({ connected: true });\n      });\n      // On error\n      this.socket.on(\"connect_error\", () => {\n        this.setState({ connected: false });\n      });\n      // On disconnect\n      this.socket.on(\"disconnect\", () => {\n        this.setState({ connected: false });\n      });\n      // Timer CountDown event with {minutes, seconds}\n      this.socket.on(TIMER_DATA, (data) => {\n        // Screen flashing red\n        if (data.minutes < 0) {\n          this.setState({ flash: !this.state.flash });\n        } else {\n          this.setState({ flash: false });\n        }\n        this.setState({ timer: data });\n      });\n      // Stopwatch event with {hours, minutes}\n      this.socket.on(CAPTURE_DATA, (data) => {\n        this.setState({ capture: data });\n      });\n      // Layout change event\n      this.socket.on(LAYOUT, () => {\n        this.setState({ bigTimeLayout: !this.state.bigTimeLayout });\n      });\n    }\n  }\n\n  // Timer component\n  generateTimer() {\n    return (\n      <h1>\n        {this.state.timer.minutes}:{this.state.timer.seconds}\n      </h1>\n    );\n  }\n\n  // Stopwatch component\n  generateCapture() {\n    return (\n      <h1>\n        {this.state.capture.hours}:{this.state.capture.minutes}\n      </h1>\n    );\n  }\n\n  render() {\n    return this.state.connected ? (\n      <Fade duration={2000}>\n        {this.state.bigTimeLayout ? (\n          <BigTimeLayout\n            flash={this.state.flash}\n            date={this.state.date}\n            Timer={this.generateTimer()}\n            Capture={this.generateCapture()}\n            timeIsUp={this.state.timeIsUp}\n          />\n        ) : (\n          <MainLayout\n            flash={this.state.flash}\n            date={this.state.date}\n            Timer={this.generateTimer()}\n            Capture={this.generateCapture()}\n            timeIsUp={this.state.timeIsUp}\n          />\n        )}\n      </Fade>\n    ) : (\n      // If socket not connected\n      <div className=\"root\" style={{ display: \"grid\", placeItems: \"center\" }}>\n        <h1 style={{ color: \"white\" }}>Waiting for connection</h1>\n        <img alt=\"Connecting\" src={loader}></img>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// Global events\nexport const SUCCESS = \"SUCCESS\";\nexport const LAYOUT = \"LAYOUT\";\n\n// Timer Events\nexport const TIMER_START = \"TIMER_START\";\nexport const TIMER_STOP = \"TIMER_STOP\";\nexport const TIMER_DATA = \"TIMER_DATA\";\n\n//Capture Events\nexport const CAPTURE = \"CAPTURE\";\nexport const CAPTURE_STOP = \"CAPTURE_STOP\";\nexport const CAPTURE_DATA = \"CAPTURE_DATA\";\n\n//Midi Events\nexport const NOTE_ON = \"NOTE_ON\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}